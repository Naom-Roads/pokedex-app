const pokemonRepository=(()=>{let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=60";function n(){let e=document.querySelector(".main"),t=document.createElement("div");t.id="loading",t.innerText="Loading...",t.classList.add("loading-class"),t.classList.add("animate__animated","animate__flash"),e.prepend(t)}function o(){const e=document.querySelector(".main"),t=document.getElementById("loading");e.removeChild(t)}function i(t){"object"==typeof t&&e.push(t)}return function(){document.getElementById("search").addEventListener("input",function(){let e=document.getElementById("search").value.toLowerCase();Array.from(document.getElementsByClassName("list-group-item")).forEach(t=>{0===e.length||t.innerText.toLowerCase().includes(e)?t.style.display="flex":t.innerText.toLowerCase().includes(e)||(t.style.display="none")})})}(),{add:i,getAll:function(){return e},loadList:function(){return n(),fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){i({name:e.name,detailsUrl:e.url})})}).catch(console.error).finally(function(){o()})},addListItem:function(e){let t=document.querySelector("#list-group"),i=document.createElement("li");i.classList.add("list-group-item","col-md-3","col-sm-6","justify-content-center","border-0");let a=document.createElement("button");a.innerText=e.name,a.classList.add("btn","btn-warning","btn-lg","text-uppercase","fw-normal","col"),a.setAttribute("data-bs-toggle","modal"),a.setAttribute("data-bs-target","#modal"),i.appendChild(a),t.appendChild(i),a.addEventListener("click",function(){!function(e){(function(e){console.log(e),n();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageURL=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(console.error).finally(function(){o()})})(e).then(function(){const t=document.getElementById("modal-header");t.innerHTML="";const n=document.getElementById("modal-body");n.innerHTML="";const o=document.createElement("h5");o.classList.add("modal-title","text-capitalize","fs-2"),o.innerText=e.name;const i=document.createElement("img");i.classList.add("img-thumbnail"),i.src=e.imageURL;const a=document.createElement("ul"),l=document.createElement("li");l.innerText=`Height: ${e.height}`,a.append(l);for(const t of e.types){const e=document.createElement("li");e.innerText=`Type: ${t.type.name}`,a.appendChild(e)}t.prepend(o),n.appendChild(i),n.appendChild(a)})}(e)})}}})();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});